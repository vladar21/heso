<!-- scheduling/templates/scheduling/update_english_class.html -->
{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <h2>Update Class and Schedule</h2>
    <div class="mt-3">
        <a href="{% url 'lessons_list' pk=class_form.instance.pk %}" class="btn btn-info">View Lessons for This Class</a>
    </div>
    <br>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            {{ class_form.title.label_tag }}
            {% if not is_readonly %}
                {{ class_form.title }}
            {% else %}
                <input type="text" class="form-control" id="id_title" name="title" value="{{ class_form.title.value }}" disabled>
            {% endif %}
        </div>
        <div class="form-group">
            {{ class_form.description.label_tag }}
            {% if not is_readonly %}
                {{ class_form.description }}
            {% else %}
                <label for="id_description">Description</label>
                <textarea class="form-control" id="id_description" name="description" disabled>{{ class_form.description.value }}</textarea>
            {% endif %}
        </div>
        <!-- Добавьте остальные поля класса здесь -->
        <div class="form-group">
            {{ class_form.color.label_tag }}
            {% if not is_readonly %}
                {{ class_form.color }}
            {% else %}
                <input type="text" class="form-control" id="id_color" name="color" value="{{ class_form.color.value }}" disabled>
            {% endif %}
        </div>
        <div class="form-group">
            {{ class_form.teacher.label_tag }}
            {% if not is_readonly %}
                {{ class_form.teacher }}
            {% else %}
                <input type="text" class="form-control" id="id_teacher" name="teacher" value="{{ class_form.teacher.value }}" disabled>
            {% endif %}
        </div>
        <div class="form-group">
            {{ class_form.students.label_tag }}
            {% if not is_readonly %}
                {{ class_form.students }}
            {% else %}
                <input type="text" class="form-control" id="id_students" name="students" value="{{ class_form.students.value }}" disabled>
            {% endif %}
        </div>
        <!-- Поля ScheduleForm -->
        <div class="form-group">
            {{ schedule_form.term.label_tag }}
            {% if not is_readonly %}
                {{ schedule_form.term }}
            {% else %}
                <input type="text" class="form-control" id="id_term" name="term" value="{{ schedule_form.term.value }}" disabled>
            {% endif %}
        </div>
        <div class="form-group">
            {{ schedule_form.start_date.label_tag }}
            {% if not is_readonly %}
                {{ schedule_form.start_date }}
            {% else %}
                <input type="text" class="form-control" id="id_start_date" name="start_date" value="{{ schedule_form.start_date.value }}" disabled>
            {% endif %}
        </div>
        <div class="form-group">
            {{ schedule_form.end_date.label_tag }}
            {% if not is_readonly %}
                {{ schedule_form.end_date }}
            {% else %}
                <input type="text" class="form-control" id="id_end_date" name="end_date" value="{{ schedule_form.end_date.value }}" disabled>
            {% endif %}
        </div>
        <button type="submit" class="btn btn-primary"  {% if is_readonly %}disabled{% endif %}>Update Schedule and Class</button>
    </form>

</div>
{% endblock %}
